with data as (
select SDO_UTIL.from_wktgeometry(
 'POLYGON ((
 2298938.87075 4687257.86217, 2298933.85028 4687239.1027, 2299101.71 4687220.65, 2299100.44418 4687239.38811, 
 2299092.99598 4687240.25367, 2299092.04778 4687240.36386, 2299081.33617 4687241.60866, 2299079.939 4687241.77102, 
 2299070.52405 4687242.86513, 2299068.24569 4687243.1299, 2299057.96631 4687244.32447, 2299057.00135 4687244.43661,
 2299050.19646 4687245.22741, 2299046.03511 4687245.711, 2299044.47711 4687245.89206, 2299035.49438 4687246.93594,
 2299032.47891 4687247.28637, 2299026.25708 4687248.00941, 2298938.87075 4687257.86217
 ))' ) as geom1,
 SDO_UTIL.from_wktgeometry(
 'POLYGON ((
 2299100.44418 4687239.38811, 2299101.71 4687220.65, 2298933.85028 4687239.1027, 2298938.87075 4687257.86217,
 2299026.25708 4687248.00941, 2299032.47891 4687247.28637, 2299035.49438 4687246.93594, 2299044.47711 4687245.89206,
 2299046.03511 4687245.711, 2299050.19646 4687245.22741, 2299057.00135 4687244.43661, 2299057.96631 4687244.32447,
 2299068.24569 4687243.1299, 2299070.52405 4687242.86513, 2299079.939 4687241.77102, 2299081.33617 4687241.60866,
 2299092.04778 4687240.36386, 2299092.99598 4687240.25367, 2299100.44418 4687239.38811
 ),(
 2298940.605 4687253.045,
 2298936.98071482 4687238.75857352, 2299017.3240081 4687229.92649226, 2299026.605 4687229.44436281,
 2299026.605 4687243.545, 2299000.0 4687246.48392442, 2298940.605 4687253.045
 ))' ) as geom2
 from dual
 )
select cast(sdo_geom.validate_geometry(a.geom1,0.005) as varchar2(10)) as vGeom1,
       cast(sdo_geom.validate_geometry(a.geom2,0.005) as varchar2(10)) as vGeom2,
       cast(sdo_geom.relate(a.geom1,'DETERMINE',a.geom2,0.005) as varchar2(25)) as RGeoms,
       cast(sdo_geom.relate(SDO_GEOM.SDO_INTERSECTION(a.geom1,a.geom2,0.005),'DETERMINE',a.geom2,0.005) as varchar2(25)) as rGeom1,
       cast(sdo_geom.relate(a.geom1,'DETERMINE',SDO_GEOM.SDO_INTERSECTION(a.geom1,a.geom2,0.005),0.005) as varchar2(25)) as rGeom2,
       SC4O.ST_Intersection(p_geom1=>a.geom1,p_geom2=>a.geom2,p_precision=>2) as SC4O_RES,
       SDO_GEOM.SDO_INTERSECTION(a.geom1,a.geom2,0.005) as RES
  from data a;

-- 11gR2
VGEOM1 VGEOM2 RGEOMS                    RGEOM1                    RGEOM2 RES
------ ------ ------------------------- ------------------------- ------ -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
TRUE   13367  UNKNOWN MASK: 110110001   UNKNOWN MASK: 110110001   EQUAL  SDO_GEOMETRY(2003,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,1003,1),SDO_ORDINATE_ARRAY(2298936.98071482,4687238.75857352,2299017.3240081,4687229.92649226,2299101.71,4687220.65,2299100.44418,4687239.38811,2299092.99598,4687240.25367,2299092.04778,4687240.36386,2299081.33617,4687241.60866,2299079.939,4687241.77102,2299070.52405,4687242.86513,2299068.24569,4687243.1299,2299057.96631,4687244.32447,2299057.00135,4687244.43661,2299050.19646,4687245.22741,2299046.03511,4687245.711,2299044.47711,4687245.89206,2299035.49438,4687246.93594,2299032.47891,4687247.28637,2299026.25708,4687248.00941,2298938.87075,4687257.86217,2298933.85028,4687239.1027,2298936.98071482,4687238.75857352))

-- 12Cr1
VGEOM1 VGEOM2 RGEOMS     RGEOM1     RGEOM2     RES
------ ------ ---------- ---------- ---------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
TRUE   13367  EQUAL      EQUAL      EQUAL      SDO_GEOMETRY(2003,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,1003,1),SDO_ORDINATE_ARRAY(2298938.87075,4687257.86217,2298933.85028,4687239.1027,2298936.98071482,4687238.75857352,2299017.3240081,4687229.92649226,2299101.71,4687220.65,2299100.44418,4687239.38811,2299092.99598,4687240.25367,2299092.04778,4687240.36386,2299081.33617,4687241.60866,2299079.939,4687241.77102,2299070.52405,4687242.86513,2299068.24569,4687243.1299,2299057.96631,4687244.32447,2299057.00135,4687244.43661,2299050.19646,4687245.22741,2299046.03511,4687245.711,2299044.47711,4687245.89206,2299035.49438,4687246.93594,2299032.47891,4687247.28637,2299026.25708,4687248.00941,2298938.87075,4687257.86217))

-- *********************************************************************************************
-- Process with fixed geom2
-- For fix, see end of script.
--
with data as (
select SDO_UTIL.from_wktgeometry(
 'POLYGON ((
 2298938.87075 4687257.86217, 2298933.85028 4687239.1027, 2299101.71 4687220.65, 2299100.44418 4687239.38811, 
 2299092.99598 4687240.25367, 2299092.04778 4687240.36386, 2299081.33617 4687241.60866, 2299079.939 4687241.77102, 
 2299070.52405 4687242.86513, 2299068.24569 4687243.1299, 2299057.96631 4687244.32447, 2299057.00135 4687244.43661,
 2299050.19646 4687245.22741, 2299046.03511 4687245.711, 2299044.47711 4687245.89206, 2299035.49438 4687246.93594,
 2299032.47891 4687247.28637, 2299026.25708 4687248.00941, 2298938.87075 4687257.86217
 ))'
 ) as geom1,
 SDO_UTIL.from_wktgeometry('POLYGON ((2298938.87075 4687257.86217, 2298933.85028 4687239.1027, 2298936.98071482 4687238.75857352, 2298940.605 4687253.045, 2299000.0 4687246.48392442, 2299026.605 4687243.545, 2299026.605 4687229.44436281, 2299017.3240081 4687229.92649226, 2299101.71 4687220.65, 2299100.44418 4687239.38811, 2299092.99598 4687240.25367, 2299092.04778 4687240.36386, 2299081.33617 4687241.60866, 2299079.939 4687241.77102, 2299070.52405 4687242.86513, 2299068.24569 4687243.1299, 2299057.96631 4687244.32447, 2299057.00135 4687244.43661, 2299050.19646 4687245.22741, 2299046.03511 4687245.711, 2299044.47711 4687245.89206, 2299035.49438 4687246.93594, 2299032.47891 4687247.28637, 2299026.25708 4687248.00941, 2298938.87075 4687257.86217))') as geom2
 from dual
 )
select cast(sdo_geom.validate_geometry(a.geom1,0.005) as varchar2(10)) as vGeom1,
       cast(sdo_geom.validate_geometry(a.geom2,0.005) as varchar2(10)) as vGeom2,
       cast(sdo_geom.relate(a.geom1,'DETERMINE',a.geom2,0.005) as varchar2(25)) as RGeoms,
       cast(sdo_geom.relate(SDO_GEOM.SDO_INTERSECTION(a.geom1,a.geom2,0.005),'DETERMINE',a.geom2,0.005) as varchar2(25)) as rGeom1,
       cast(sdo_geom.relate(a.geom1,'DETERMINE',SDO_GEOM.SDO_INTERSECTION(a.geom1,a.geom2,0.005),0.005) as varchar2(25)) as rGeom2,
       --SC4O.ST_Intersection(a.geom1,a.geom2,0.005) as RES
       SDO_GEOM.SDO_INTERSECTION(a.geom1,a.geom2,0.005) as RES
  from data a;

VGEOM1 VGEOM2 RGEOMS RGEOM1 RGEOM2 RES
------ ------ ------ ------ ------ ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
TRUE   TRUE   COVERS EQUAL  COVERS SDO_GEOMETRY(2003,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,1003,1),SDO_ORDINATE_ARRAY(2298933.85028,4687239.1027,2298936.98071482,4687238.75857352,2298940.605,4687253.045,2299000,4687246.48392442,2299026.605,4687243.545,2299026.605,4687229.44436281,2299017.3240081,4687229.92649226,2299101.71,4687220.65,2299100.44418,4687239.38811,2299092.99598,4687240.25367,2299092.04778,4687240.36386,2299081.33617,4687241.60866,2299079.939,4687241.77102,2299070.52405,4687242.86513,2299068.24569,4687243.1299,2299057.96631,4687244.32447,2299057.00135,4687244.43661,2299050.19646,4687245.22741,2299046.03511,4687245.711,2299044.47711,4687245.89206,2299035.49438,4687246.93594,2299032.47891,4687247.28637,2299026.25708,4687248.00941,2298938.87075,4687257.86217,2298933.85028,4687239.1027))


-- ******************************************************************************************
-- Fix Geom2.
--
 select sdo_geom.sdo_xor(
 geom.reverse_geometry(
 SDO_UTIL.from_wktgeometry(
 'POLYGON ((
 2299100.44418 4687239.38811, 2299101.71 4687220.65, 2298933.85028 4687239.1027, 2298938.87075 4687257.86217,
 2299026.25708 4687248.00941, 2299032.47891 4687247.28637, 2299035.49438 4687246.93594, 2299044.47711 4687245.89206,
 2299046.03511 4687245.711, 2299050.19646 4687245.22741, 2299057.00135 4687244.43661, 2299057.96631 4687244.32447,
 2299068.24569 4687243.1299, 2299070.52405 4687242.86513, 2299079.939 4687241.77102, 2299081.33617 4687241.60866,
 2299092.04778 4687240.36386, 2299092.99598 4687240.25367, 2299100.44418 4687239.38811
 ))')),
 geom.reverse_geometry(
 sdo_util.from_wktgeometry('POLYGON((
 2298940.605 4687253.045, 
 2298936.98071482 4687238.75857352, 
 2299017.3240081 4687229.92649226, 
 2299026.605 4687229.44436281,
 2299026.605 4687243.545, 
 2299000.0 4687246.48392442, 
 2298940.605 4687253.045
 ))')),0.005).GET_WKT() as geom from dual;

-- SQL Server 2014

use spatialdb
go
with data as (
select geometry::STGeomFromText(
 'POLYGON ((
 2298938.87075 4687257.86217, 2298933.85028 4687239.1027, 2299101.71 4687220.65, 2299100.44418 4687239.38811, 
 2299092.99598 4687240.25367, 2299092.04778 4687240.36386, 2299081.33617 4687241.60866, 2299079.939 4687241.77102, 
 2299070.52405 4687242.86513, 2299068.24569 4687243.1299, 2299057.96631 4687244.32447, 2299057.00135 4687244.43661,
 2299050.19646 4687245.22741, 2299046.03511 4687245.711, 2299044.47711 4687245.89206, 2299035.49438 4687246.93594,
 2299032.47891 4687247.28637, 2299026.25708 4687248.00941, 2298938.87075 4687257.86217
 ))',0) as geom1,
 geometry::STGeomFromText(
 'POLYGON ((
 2299100.44418 4687239.38811, 2299101.71 4687220.65, 2298933.85028 4687239.1027, 2298938.87075 4687257.86217,
 2299026.25708 4687248.00941, 2299032.47891 4687247.28637, 2299035.49438 4687246.93594, 2299044.47711 4687245.89206,
 2299046.03511 4687245.711, 2299050.19646 4687245.22741, 2299057.00135 4687244.43661, 2299057.96631 4687244.32447,
 2299068.24569 4687243.1299, 2299070.52405 4687242.86513, 2299079.939 4687241.77102, 2299081.33617 4687241.60866,
 2299092.04778 4687240.36386, 2299092.99598 4687240.25367, 2299100.44418 4687239.38811
 ),(
 2298940.605 4687253.045,
 2298936.98071482 4687238.75857352, 2299017.3240081 4687229.92649226, 2299026.605 4687229.44436281,
 2299026.605 4687243.545, 2299000.0 4687246.48392442, 2298940.605 4687253.045
 ))',0) as geom2
)
select cast(a.geom1.STIsValid() as varchar(10)) as vGeom1,
       cast(a.geom2.STIsValid() as varchar(10)) as vGeom2,
	   a.geom1.STIntersection(a.geom2).STIsValid() as vRes,
       a.geom1.STIntersection(a.geom2) as res
  from data a;
